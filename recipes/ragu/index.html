<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Ragu alla Bolognese</title><link rel="icon" href="/favicon.svg"><style>:root { --bg:#0f1216; --card:#171a1f; --text:#e8eaed; --muted:#a9b0bb; --accent:#8bd3ff; --accent-2:#ffb86b; --good:#7bd88f; --border:#2a2f36; --shadow:0 10px 30px rgba(0,0,0,0.35);}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:var(--bg);color:var(--text)}.container{max-width:900px;margin:0 auto;padding:16px}header{position:sticky;top:0;z-index:9;backdrop-filter:blur(8px);background:color-mix(in oklab,var(--bg) 85%,transparent);border-bottom:1px solid var(--border)}.header-inner{display:flex;align-items:center;gap:12px;padding:12px 0}h1{font-size:1.6rem;line-height:1.2;margin:8px 0}.pill{border:1px solid var(--border);padding:4px 10px;border-radius:999px;font-size:.875rem;color:var(--muted)}.actions{margin-left:auto;display:flex;gap:8px}button,.btn{cursor:pointer;background:var(--card);color:var(--text);border:1px solid var(--border);padding:10px 14px;border-radius:12px;font-weight:600;box-shadow:var(--shadow);transition:transform .06s ease,background .2s ease,border-color .2s ease}button:hover,.btn:hover{transform:translateY(-1px);border-color:color-mix(in oklab,var(--accent) 40%,var(--border))}.btn-primary{background:linear-gradient(180deg,color-mix(in oklab,var(--accent) 20%,var(--card)),var(--card));border-color:color-mix(in oklab,var(--accent) 30%,var(--border))}.grid{display:grid;grid-template-columns:1fr;gap:16px}.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}h2{font-size:1.2rem;margin:0 0 12px}.meta{display:flex;flex-wrap:wrap;gap:8px;color:var(--muted);margin-top:4px}.ingredients ul,.steps ol{list-style:none;padding:0;margin:0}.ingredients li,.steps li{display:grid;grid-template-columns:28px 1fr;gap:12px;align-items:start;padding:10px;border:1px dashed var(--border);border-radius:12px;margin-bottom:10px}.steps li.active{border-color:var(--accent-2);background:color-mix(in oklab,var(--card) 85%,var(--accent-2))}input[type="checkbox"]{width:20px;height:20px;accent-color:var(--good)}.toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;margin:8px 0 0}.timer{display:flex;gap:6px;align-items:center}.timer input{width:70px;padding:6px 8px;border-radius:10px;border:1px solid var(--border);background:#0e1114;color:var(--text)}.badge{padding:4px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted);font-size:.8rem}.footnote{color:var(--muted);font-size:.9rem}.sticky-controls{position:sticky;bottom:10px;display:flex;gap:8px;padding:8px;background:color-mix(in oklab,var(--bg) 70%,transparent);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}body.cook-mode{font-size:18px}body.cook-mode .container{max-width:760px}body.cook-mode .ingredients li,body.cook-mode .steps li{padding:14px}body.cook-mode .steps li{font-size:1.1rem}body.cook-mode .hide-in-cook{display:none!important}@media (min-width:850px){.grid{grid-template-columns:1fr 1fr}}@media print{header,.sticky-controls,.actions{display:none!important}body{background:#fff;color:#000}.card{box-shadow:none;border-color:#ddd}}</style></head><body><header><div class="container header-inner"><div><h1>Ragu alla Bolognese - Elizabeth David Adapted</h1><div class="meta hide-in-cook"><span class="pill">Serves 6</span><span class="pill">Total 2.5 to 3 hours</span><span class="pill">Hands on ~45 minutes</span></div></div><div class="actions"><a href="/" class="btn" aria-label="Home">Home</a><button id="cookBtn" class="btn-primary">Start Cook Mode</button><button id="wakeBtn" class="btn" title="Prevent screen sleep on supported phones">Keep Screen Awake</button></div></div></header><main class="container"><section class="grid"><article class="card"><h2>Ingredients</h2><div class="toolbar hide-in-cook"><span class="badge">Butter and Parmesan for serving</span></div><div class="ingredients"><ul><li><input type="checkbox"/> <div>85 g pancetta, finely chopped</div></li><li><input type="checkbox"/> <div>15 g butter, plus extra for serving</div></li><li><input type="checkbox"/> <div>1 tbsp olive oil</div></li><li><input type="checkbox"/> <div>1 onion, finely chopped</div></li><li><input type="checkbox"/> <div>1 carrot, finely chopped</div></li><li><input type="checkbox"/> <div>1 small celery stick, finely chopped</div></li><li><input type="checkbox"/> <div>225 g minced beef</div></li><li><input type="checkbox"/> <div>115 g chicken livers, chopped</div></li><li><input type="checkbox"/> <div>800 g San Marzano tomatoes, crushed</div></li><li><input type="checkbox"/> <div>1 glass dry white wine</div></li><li><input type="checkbox"/> <div>Salt and black pepper</div></li><li><input type="checkbox"/> <div>Pinch of nutmeg</div></li><li><input type="checkbox"/> <div>2 wine glasses stock or water</div></li><li><input type="checkbox"/> <div>500 to 700 g tagliatelle</div></li></ul></div></article><article class="card steps"><h2>Steps</h2><ol id="steps"><li class="active"><input type="checkbox"/> <div>Render pancetta gently in butter and olive oil until lightly golden and fat is released.</div></li><li><input type="checkbox"/> <div>Add onion, carrot, and celery. Cook over medium low until soft and sweet, about 10 minutes.</div></li><li><input type="checkbox"/> <div>Add minced beef. Brown well, letting moisture evaporate. Stir in chicken livers and cook 2 to 3 minutes.</div></li><li><input type="checkbox"/> <div>Deglaze with white wine. Reduce until nearly gone. Season with salt, pepper, and a scrape of nutmeg.</div></li><li><input type="checkbox"/> <div>Stir in crushed San Marzano tomatoes and the stock or water. Bring to a gentle simmer.</div></li><li><input type="checkbox"/> <div>Simmer very gently, partially covered, for 2 hours. Stir every 15 to 20 minutes. Add splashes of water if needed.<div class="toolbar"><div class="timer"><label for="mins">Simmer timer</label><input id="mins" type="number" min="1" value="120"/><button id="startTimer" class="btn">Start</button><button id="stopTimer" class="btn">Stop</button><span id="countdown" class="pill" aria-live="polite"></span></div></div></div></li><li><input type="checkbox"/> <div>Adjust seasoning. Rest 10 to 15 minutes. Toss with tagliatelle, butter, and Parmesan.</div></li></ol><div class="sticky-controls"><button id="prev" class="btn" aria-label="Previous step">Prev</button><button id="next" class="btn-primary" aria-label="Next step">Next</button><button id="resetChecks" class="btn" aria-label="Reset checkboxes">Reset</button></div><p class="footnote hide-in-cook">Tip: for a rounder flavor, add a small splash of milk halfway through the simmer.</p></article></section></main><script>const cookBtn=document.getElementById('cookBtn');cookBtn&&cookBtn.addEventListener('click',()=>{const e=document.body.classList.toggle('cook-mode');cookBtn.textContent=e?'Exit Cook Mode':'Start Cook Mode'});const steps=Array.from(document.querySelectorAll('#steps li'));let idx=0;function setActive(e){steps.length&&(idx=Math.max(0,Math.min(steps.length-1,e)),steps.forEach((e,t)=>e.classList.toggle('active',t===idx)),steps[idx].scrollIntoView({behavior:'smooth',block:'center'}))}const nextBtn=document.getElementById('next'),prevBtn=document.getElementById('prev'),resetBtn=document.getElementById('resetChecks');nextBtn&&nextBtn.addEventListener('click',()=>setActive(idx+1));prevBtn&&prevBtn.addEventListener('click',()=>setActive(idx-1));resetBtn&&resetBtn.addEventListener('click',()=>{document.querySelectorAll('input[type="checkbox"]').forEach(e=>e.checked=!1),setActive(0)});function attachTimer(e,t,n,o,c){const d=document.getElementById(e),a=document.getElementById(t),i=document.getElementById(n),l=document.getElementById(o);let s=null,r=null;function m(){const e=Date.now(),t=Math.max(0,r-e),n=Math.floor(t/6e4),o=Math.floor(t%6e4/1e3);l.textContent=`${String(n).padStart(2,'0')}:${String(o).padStart(2,'0')}`,t<=0&&(clearInterval(s),s=null,l.textContent=c+' done',alert(c+' finished'))}d&&d.addEventListener('click',()=>{const e=Math.max(1,parseInt(i.value||'1',10));r=Date.now()+60e3*e,m(),clearInterval(s),s=setInterval(m,250)}),a&&a.addEventListener('click',()=>{clearInterval(s),s=null,l.textContent=''})}let wakeLock=null;async function toggleWakeLock(){try{const e=document.getElementById('wakeBtn');if(!('wakeLock'in navigator))return void alert('Screen wake lock is not available on this device or browser.');if(wakeLock){await wakeLock.release(),wakeLock=null,e&&(e.textContent='Keep Screen Awake');return}wakeLock=await navigator.wakeLock.request('screen'),e&&(e.textContent='Screen Awake On'),wakeLock.addEventListener('release',()=>{e&&(e.textContent='Keep Screen Awake')})}catch(e){console.warn('Wake Lock error',e),alert('Screen wake lock may not be available on this device or browser.')}}const wakeBtn=document.getElementById('wakeBtn');wakeBtn&&wakeBtn.addEventListener('click',toggleWakeLock);document.addEventListener('visibilitychange',async()=>{if(wakeLock&&document.visibilityState==='visible')try{wakeLock=await navigator.wakeLock.request('screen')}catch(e){}});setActive(0); attachTimer('startTimer','stopTimer','mins','countdown','Simmer');</script></body></html>