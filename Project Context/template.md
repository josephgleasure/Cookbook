## Recipe Page Template\n+\n+This document defines the canonical behavior, layout, and styles for every recipe page in this project. All recipes MUST follow this template to ensure consistency and reliability on desktop and, especially, on phones.\n+\n+### Core Features (required)\n+- Home navigation button in the header actions: `<a href=\"/\" class=\"btn\" aria-label=\"Home\">Home</a>`\n+- Cook Mode toggle that switches to a cooking-friendly layout and typography, and hides non-essential UI\n+- Step checklist with one “active” step at a time, plus sticky controls: Prev / Next / Reset\n+- Optional per-step timers (start/stop, numeric minutes input, live countdown; multiple timers allowed)\n+- Keep Screen Awake (Wake Lock) toggle that can be turned on and off, and is re-acquired when returning to the page\n+\n+### HTML Structure\n+- Root container width: `max-width: 900px` (760px in cook mode), with responsive grid\n+- Two main cards when viewport ≥ 850px: Ingredients and Steps side-by-side; single column below that\n+- Steps ordered list `<ol id=\"steps\">` where each `<li>` contains a checkbox and content; the active step has class `active`\n+- Sticky controls (required) placed after `</ol>`:\n+  ```html\n+  <div class=\"sticky-controls\">\n+    <button id=\"prev\" class=\"btn\" aria-label=\"Previous step\">Prev</button>\n+    <button id=\"next\" class=\"btn-primary\" aria-label=\"Next step\">Next</button>\n+    <button id=\"resetChecks\" class=\"btn\" aria-label=\"Reset checkboxes\">Reset</button>\n+  </div>\n+  ```\n+- Timers (optional) live inside a step within a `.toolbar` area and follow this structure:\n+  ```html\n+  <div class=\"toolbar\">\n+    <div class=\"timer\">\n+      <label for=\"someMins\">Label</label>\n+      <input id=\"someMins\" type=\"number\" min=\"1\" value=\"5\"/>\n+      <button id=\"someStart\" class=\"btn\">Start</button>\n+      <button id=\"someStop\" class=\"btn\">Stop</button>\n+      <span id=\"someCountdown\" class=\"pill\" aria-live=\"polite\"></span>\n+    </div>\n+  </div>\n+  ```\n+\n+### CSS Variables and Look\n+- Palette (identical across recipes):\n+  - `--bg: #0f1216` background\n+  - `--card: #171a1f` surfaces\n+  - `--text: #e8eaed` primary text\n+  - `--muted: #a9b0bb` secondary text\n+  - `--accent: #8bd3ff` accent\n+  - `--accent-2: #ffb86b` secondary accent (used for active step border)\n+  - `--border: #2a2f36` borders and outlines\n+  - Shadows: `--shadow: 0 10px 30px rgba(0,0,0,0.35)`\n+- Buttons: `.btn` and `.btn-primary` share radius 12px and border `1px solid var(--border)`; `.btn-primary` uses a subtle gradient based on `--accent`.\n+- Active step styling: `.steps li.active { border-color: var(--accent-2); background: color-mix(in oklab, var(--card) 85%, var(--accent-2)); }`\n+- Cook Mode effects:\n+  - Increase base font size\n+  - Reduce container width to ~760px\n+  - Increase step padding\n+  - Hide `.hide-in-cook`\n+\n+### JavaScript Behavior\n+- Cook Mode toggle:\n+  - Adds/removes `body.cook-mode`\n+  - Button text toggles between “Start Cook Mode” and “Exit Cook Mode”\n+- Step navigation:\n+  - `setActive(index)` updates `idx`, toggles `.active`, and scrolls the active step into view\n+  - Prev/Next buttons adjust `idx`; Reset unchecks all checkboxes and calls `setActive(0)`\n+- Timer helper:\n+  - `attachTimer(startId, stopId, inputId, outputId, label)`\n+  - Ticks every 250ms; shows mm:ss; alerts when done; multiple timers supported per page\n+- Keep Screen Awake toggle (required):\n+  - `toggleWakeLock()` requests `navigator.wakeLock.request('screen')` on first press\n+  - On second press, `.release()` is called; button text reflects state\n+  - Reacquires on `visibilitychange` when coming back to the tab\n+\n+### Accessibility\n+- Buttons have `aria-label` where text may be ambiguous\n+- Countdown spans have `aria-live=\"polite\"`\n+- Focus states rely on border/contrast; ensure sufficient contrast with the shared palette\n+\n+### Mobile\n+- Mobile-first column layout; switches to two-column at `min-width: 850px`\n+- Sticky controls remain accessible near the bottom of the viewport\n+- Avoid long unbroken lines; let content wrap naturally\n+\n+### Implementation Notes\n+- Recipes are static HTML pages at `recipes/<slug>/index.html`\n+- Keep inline CSS/JS for portability and zero-build deployments (optionally refactor to shared assets later)\n+- When adding timers, give unique element IDs and call `attachTimer(...)` at the end of the script\n+\n*** End Patch】} -->

